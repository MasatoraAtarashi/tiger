# Gemini CLI vs Tiger CLI 機能比較分析

## 1. Gemini CLI 機能一覧

### コーディングエージェントツール

#### ファイル操作系
- ✅ **read_file**: ファイル読み取り（テキスト、画像、PDF対応）
- ✅ **write_file**: ファイル書き込み
- ✅ **edit/replace**: ファイル内容の置換・編集
- ✅ **ls**: ディレクトリ内容一覧
- ✅ **grep**: ファイル内容検索
- ✅ **glob**: パターンによるファイル検索
- ✅ **read_many_files**: 複数ファイル一括読み取り

#### コード実行系
- ✅ **run_shell_command**: シェルコマンド実行
  - ユーザー確認機能
  - ホワイトリスト機能
  - リアルタイム出力
  - サンドボックス対応（Docker）

#### Web系
- ✅ **web_search**: Google検索
- ✅ **web_fetch**: URLからコンテンツ取得

#### その他
- ✅ **save_memory**: 長期記憶への情報保存
- ✅ **MCP対応**: カスタムツールの拡張
- ✅ **カスタムツール**: ユーザー定義ツール

### UI/UX機能

#### チャット管理
- ✅ `/chat save <tag>`: 会話保存
- ✅ `/chat resume <tag>`: 会話再開
- ✅ `/chat list`: 保存済み会話一覧
- ✅ 履歴ブランチング

#### ショートカットキー
- ✅ Ctrl+L: 画面クリア
- ✅ Ctrl+T: ツール説明表示切替
- ✅ Ctrl+C: 終了
- ✅ Tab: オートコンプリート
- ✅ 上下矢印: 履歴ナビゲーション

#### コマンド機能
- ✅ スラッシュコマンド（/help、/clear、/stats等）
- ✅ @ファイル参照: ファイル内容をプロンプトに含める
- ✅ !シェルコマンド: 直接実行

#### 表示機能
- ✅ 複数カラーテーマ
- ✅ シンタックスハイライト
- ✅ Markdown表示
- ✅ 差分表示
- ✅ プログレスバー

### 便利機能
- ✅ 階層的メモリ（GEMINI.md）
- ✅ チェックポイント機能
- ✅ 自動アップデート通知
- ✅ Git統合
- ✅ エディタ統合
- ✅ トークンキャッシング

## 2. Tiger CLI 現在の実装状況

### 実装済み機能 ✅

#### 基本機能
- ✅ React/InkベースのリッチUI
- ✅ 起動時のTigerロゴ表示
- ✅ インタラクティブチャット
- ✅ デバッグモード

#### LLM統合
- ✅ Ollama統合（ローカルLLM）
- ✅ ストリーミングレスポンス
- ✅ ヘルスチェック
- ✅ ReActパターンでのツール実行

#### ツールシステム
- ✅ 基本的なツールインターフェース
- ✅ read_fileツール（テキストファイル読み取り）
- ✅ write_fileツール（ファイル書き込み）
- ✅ editツール（ファイル編集・置換）
- ✅ lsツール（ディレクトリ一覧）
- ✅ run_commandツール（シェルコマンド実行）
- ✅ grepツール（ファイル内容検索）
- ✅ globツール（パターンマッチング検索）
- ✅ read_many_filesツール（複数ファイル一括読み取り）
- ✅ ツール呼び出しパース機能
- ✅ ツールレジストリによる動的管理

#### 設定管理
- ✅ 複数設定ファイル対応
- ✅ 環境変数サポート
- ✅ デフォルト設定

#### エラーハンドリング
- ✅ カスタムエラークラス（TigerError）
- ✅ エラーコード体系
- ✅ リトライメカニズム（指数バックオフ）
- ✅ 詳細なエラーコンテキスト

### 未実装機能 ❌

#### 重要なツール
- ❌ **web_search**: Web検索
- ❌ **web_fetch**: Web取得
- ❌ **save_memory**: 長期記憶機能

#### UI/UX機能
- ❌ チャット履歴保存・復元
- ❌ @ファイル参照
- ❌ スラッシュコマンド
- ❌ ショートカットキー
- ❌ シンタックスハイライト
- ❌ テーマシステム
- ❌ プログレスバー

#### その他
- ❌ セッション管理
- ❌ メモリ機能
- ❌ MCP対応
- ❌ Git統合
- ❌ チェックポイント

## 3. 実装TODO リスト

### バグ修正 🐞

1. **デバッグモード表示の修正** ✅
   - [x] "[DEBUG MODE]"表示が消えない問題
   - [x] デバッグモードがfalseでも表示される

2. **LLM応答の修正** ✅
   - [x] LLMが"You"とだけ返答する問題
   - [x] ツール実行が正しく動作しない（JSONパースエラー）
   - [x] システムプロンプトが正しく送信されていない可能性

### 優先度: 高 🔴

1. **基本的なファイル操作ツールの実装**
   - [x] write_file: ファイル書き込み ✅
   - [x] edit: ファイル編集（差分適用） ✅
   - [x] ls: ディレクトリ一覧 ✅
   - [x] grep: ファイル内容検索 ✅
   - [x] glob: パターンマッチング検索 ✅

2. **シェル実行ツールの実装**
   - [x] run_command: 安全なシェル実行 ✅
   - [ ] ユーザー確認機能の実装（ConfirmDialog作成済み、統合待ち）
   - [ ] リアルタイム出力表示

3. **エラーハンドリングの改善**
   - [x] カスタムエラークラス ✅
   - [x] リトライメカニズム ✅
   - [x] 詳細なエラーコンテキスト ✅

4. **ツールレジストリの適切な使用**
   - [x] DefaultToolRegistryの活用 ✅
   - [x] 動的ツール登録 ✅

### 優先度: 中 🟡

5. **Tigerロゴの改善**
   - [x] Tigerロゴのマイナー改善 ✅
   - [ ] よりカッコいい虎のアスキーアート
   - [ ] アニメーション効果
   - [ ] チャットUIをゲームっぽくかっこよく

6. **チャット履歴機能**
   - [ ] 履歴の保存（ローカルストレージ）
   - [ ] 履歴の復元
   - [ ] セッション管理

7. **@ファイル参照機能**
   - [ ] ファイルパスのオートコンプリート
   - [ ] 複数ファイル同時参照
   - [ ] ディレクトリ参照

8. **基本的なコマンド機能**
   - [ ] /help: ヘルプ表示
   - [ ] /clear: 画面クリア
   - [ ] /exit: 終了
   - [ ] もっと色んなコマンド機能
   - [ ] コマンド候補を表示する機能

### 優先度: 低 🟢

9. **メッセージキューイング**
   - [ ] 複数メッセージの同時処理
   - [ ] キュー管理UI

10. **UI改善**
    - [ ] シンタックスハイライト
    - [ ] テーマシステム
    - [ ] プログレスバー

11. **Web機能**
    - [ ] web_search: 検索機能
    - [ ] web_fetch: URL取得

### リファクタリング項目 🔧

1. **不要なコードの削除**
   - [x] App.tsxの削除（未使用） ✅
   - [x] 未使用インポートのクリーンアップ ✅

2. **アーキテクチャ改善**
   - [ ] モノレポ構造への移行検討
   - [ ] 依存性注入の改善
   - [ ] プロバイダーの抽象化強化

3. **型安全性の向上**
   - [ ] unknown型の削減
   - [ ] ジェネリクスの活用
   - [ ] 型定義の強化

## 4. 実装ロードマップ

### Phase 1: 基本機能の充実（1-2週間）✅ 完了
- [x] 基本的なファイル操作ツール（write_file、edit、ls） ✅
- [x] シェル実行ツール ✅
- [ ] エラーハンドリング改善（進行中）
- [x] 不要なコードの削除 ✅

### Phase 2: UX改善（1-2週間）
- Tigerロゴの改善
- チャット履歴機能
- @ファイル参照機能
- 基本的なコマンド機能

### Phase 3: 高度な機能（2-3週間）
- Web検索・取得機能
- シンタックスハイライト
- テーマシステム
- メッセージキューイング

### Phase 4: エンタープライズ機能（3-4週間）
- MCP対応
- Git統合
- チェックポイント機能
- プロファイル管理

## 5. 差別化ポイント

Tigerの独自価値：
1. **完全ローカル実行**: プライバシー重視
2. **低遅延**: ローカルLLMによる高速応答
3. **カスタマイズ性**: オープンソースで拡張可能
4. **リソース効率**: 軽量な実装
5. **オフライン対応**: インターネット不要

これらの特徴を活かしながら、Gemini CLIの優れた機能を参考に開発を進めることで、強力なローカルコーディングエージェントを実現できます。
